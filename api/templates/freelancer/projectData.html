{% extends "base.html" %}

{% block styleLink %}

<link rel="stylesheet" href="/static/css/freelancer/projectData.css">

{% endblock %}

{% block content %}

{% include "freelancer/navbar.html" %}

<div class="project-data-page">

    <div class="project-data-container">

        <div class="project-data">

              <h3>{project.title}</h3>
              <p>{project.description}</p>
              <span>
                <h5>Required skills</h5>
                <div class="required-skills">
                  {% comment %} {project.skills.map((skill)=>( {% endcomment %}
                    <p key={skill}>{skill}</p>
                 
                </div>
              </span>
              <span>
                <h5>Budget</h5>
                <h6>&#8377; {project.budget}</h6>
              </span>

        </div>

        {% comment %} {/* Freelancer proposal */} {% endcomment %}

        {% comment %} {project.status === "Available"  ? {% endcomment %}

        <div class="project-form-body">
          <h4>Send proposal</h4>
          <span>
              <div class="form-floating">
                <input type="number" class="form-control mb-3" id="floatingPassword" placeholder="Password" />
                <label htmlFor="floatingPassword">Budget</label>
              </div>
              <div class="form-floating">
                <input type="number" class="form-control mb-3" id="floatingPassword" placeholder="Password"  />
                <label htmlFor="floatingPassword">Estimated time (days)</label>
              </div>
          </span>
          <div class="form-floating">
                <textarea class="form-control mb-3" id="floatingPassword" placeholder="Password"/>
                <label htmlFor="floatingPassword">Describe your proposal</label>
          </div>
          
          {% comment %} {!project.bids.includes(localStorage.getItem('userId'))  ? <button class='btn btn-success' onClick={handleBidding} >Post Bid</button> :""} {% endcomment %}
          {% comment %} {project.bids.includes(localStorage.getItem('userId'))  ? <button class='btn btn-primary' disabled >Already bidded</button> :""} {% endcomment %}
        </div>


        {% comment %} {project.freelancerId === localStorage.getItem('userId') ? {% endcomment %}
        
          <div class="project-form-body">

              <h4>Submit the project</h4>

              {% comment %} {project.submissionAccepted ? {% endcomment %}
                <p>Project completed</p>
              
                      <div class="form-floating">
                          <input type="text" class="form-control mb-3" id="floatingPassword" placeholder="Password"  />
                          <label htmlFor="floatingPassword">Project link</label>
                      </div>

                      <div class="form-floating">
                          <input type="text" class="form-control mb-3" id="floatingPassword" placeholder="Password" />
                          <label htmlFor="floatingPassword">Manual link</label>
                      </div>

                      <div class="form-floating">
                          <textarea class="form-control mb-3" id="floatingPassword" placeholder="Password" />
                          <label htmlFor="floatingPassword">Describe your work</label>
                    </div>
                    
                                          {% comment %} {project.submission ? {% endcomment %}
                                           
                                           <button class="btn btn-secondary" disabled >Already submitted</button>
                      
                                          
                                          
                                            <button class="btn btn-success" onClick={handleProjectSubmission} >Submit project</button>
          



          </div>
        


    </div>

    <div class="project-chat-container">

        <h4>Chat with the client</h4>
        <hr />

        {% comment %} {project.freelancerId === localStorage.getItem('userId') ? {% endcomment %}
        
            <div class="chat-body">

              {% comment %} {chats ?  {% endcomment %}

                  <div class="chat-messages">

                    {% comment %} {chats.messages.map((message)=>( {% endcomment %}

                        <div class={message.senderId === localStorage.getItem("userId") ? "my-message": "received-message"} key={message.id}>
                          <div>
                              {% comment %} {/* {message.senderId === localStorage.getItem("userId") ? "" {% endcomment %}
                                 <h5>Client</h5>} */}
                              <p>{message.text}</p>
                              <h6>{message.time.slice(5,10)} - {message.time.slice(11,19)}</h6>
                          </div>
                        </div>
                    
                    


                  </div>
              
              

                <hr />
                <div class="chat-input">
                  <input type="text" class='form-control' placeholder='Enter something...'  />
                  <button >Send</button>
                </div>

            </div>
        
        <i style="color: #938f8f" >Chat will be enabled if the project is assigned to you!!</i>
        


    </div>


</div>


{% endblock %}